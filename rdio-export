#!/usr/bin/env python
import rdioexport
import signal
import sys
from pprint import pprint


def sigint_handler(signal, frame):
    print "\nQuitting..."
    sys.exit(0)
signal.signal(signal.SIGINT, sigint_handler)


def find_modern_vampires(rdio):
    modern_vampires = rdio.get_album_data(['a3032651'])['a3032651']
    print u"Modern Vampires"
    print u"---------------"
    pprint(modern_vampires)
    pprint(rdio.get_track_data(modern_vampires['trackKeys']))


def count_collection(rdio):
    collection = rdio.get_collection_by_album()

    num_albums = 0
    num_tracks = 0
    for album in collection:
        num_albums += 1
        num_tracks += len(album['trackKeys'])

    print u"Collection size: {} albums with {} tracks".format(
        num_albums,
        num_tracks,
    )

if __name__ == '__main__':
    rdio = rdioexport.get_rdio_client()
    find_modern_vampires(rdio)
    # count_collection(rdio)
